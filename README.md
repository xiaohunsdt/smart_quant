# C++ Quant Trading Framework

This repository provides a minimal CMake+C++17 skeleton that mirrors the è®¾è®¡æ–‡æ¡£ä¸­çš„æ•°æ®è®¢é˜…ã€ç­–ç•¥æ‰§è¡Œã€äº¤æ˜“ç®¡ç†ã€é£æ§ã€æ¥å£å±‚ç­‰æ¨¡å—ã€‚ä»£ç ä¸“æ³¨äºæ¶æ„éª¨æ¶å’Œæ¥å£å®šä¹‰ï¼Œä¾¿äºåç»­æŒ‰ä¸šåŠ¡æ¥å…¥çœŸå®æ•°æ®æºä¸äº¤æ˜“æ¥å£ã€‚

## ğŸ“Š æ¶æ„æ¦‚è§ˆ

è¯¦ç»†æ¶æ„å›¾è¯·å‚è€ƒï¼š[docs/ARCHITECTURE.md](docs/ARCHITECTURE.md)

### æ¡†æ¶åˆ†å±‚ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æ¥å£å±‚ (Interface Layer)        â”‚
â”‚         ApiServer (REST/gRPC)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ç­–ç•¥å±‚ (Strategy Layer)         â”‚
â”‚  StrategyBase â†’ StrategyScheduler      â”‚
â”‚  SignalGenerator â†’ Strategies          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         äº¤æ˜“å±‚ (Trading Layer)          â”‚
â”‚  ITradingInterface â†’ OrderManager       â”‚
â”‚  PositionManager â†’ AccountManager       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         é£æ§å±‚ (Risk Control Layer)     â”‚
â”‚  RiskEngine â†’ RiskRules                 â”‚
â”‚  ComplianceChecker â†’ CircuitBreaker    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æ•°æ®å±‚ (Data Layer)             â”‚
â”‚  IDataSource â†’ DataParser              â”‚
â”‚  DataDistributor â†’ MarketCache          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     åŸºç¡€è®¾æ–½å±‚ (Infrastructure Layer)    â”‚
â”‚  Logger â†’ Config â†’ ThreadPool           â”‚
â”‚  HttpClient                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç‹¬ç«‹æ¨¡å—

- **sources/** - æ•°æ®æºå®ç°ï¼ˆBinanceDataSource, DummyDataSourceï¼‰
- **strategies/** - ç­–ç•¥å®ç°ï¼ˆSampleStrategy ç­‰ï¼‰
- **trade/** - äº¤æ˜“æ¥å£å®ç°ï¼ˆDummyTradingInterface ç­‰ï¼‰
- `include/qf`ï¼šå„å±‚æ¥å£ä¸æ•°æ®ç»“æ„å®šä¹‰ï¼ˆæ•°æ®å±‚ã€ç­–ç•¥å±‚ã€äº¤æ˜“å±‚ã€é£æ§å±‚ã€æ¥å£å±‚ã€åŸºç¡€è®¾æ–½ï¼‰ã€‚
- `src/`ï¼šå¯¹åº”çš„è½»é‡å®ç°ï¼Œä½¿ç”¨ Dummy ç»„ä»¶ä¸²è”å®Œæ•´æµç¨‹ã€‚
- `src/main.cpp`ï¼šæ¼”ç¤ºæ•°æ®æµ â†’ ç­–ç•¥å‘ä¿¡å· â†’ é£æ§æ ¡éªŒ â†’ è®¢å•ç”Ÿæˆ â†’ äº¤æ˜“æ¥å£çš„å®Œæ•´è°ƒç”¨é“¾ã€‚

## å¿«é€Ÿæ„å»º

```bash
mkdir -p build
cd build
cmake ..
cmake --build . --config Release
./qf_demo   # Windows ä¸‹è¿è¡Œ qf_demo.exe
```

## åç»­æ¥å…¥æŒ‡å—

- æ•°æ®å±‚ï¼šæ›¿æ¢ `DummyDataSource`ï¼Œå®ç° `IDataSource::start/stop` è¯»å– CTP/HTS/WebSocket ç­‰æ•°æ®ï¼Œå¡«å…… `TickData`ã€‚
- ç­–ç•¥å±‚ï¼šç»§æ‰¿ `StrategyBase`ï¼Œåœ¨ `on_tick` ä¸­ç”Ÿæˆ `Signal`ï¼Œé€šè¿‡ `StrategyScheduler` æ‰§è¡Œã€‚
- äº¤æ˜“å±‚ï¼šå®ç° `ITradingInterface` é€‚é…äº¤æ˜“ APIï¼Œåœ¨ `ReportHandler` ä¸­å›å†™è®¢å•/æˆäº¤ã€‚
- é£æ§å±‚ï¼šåœ¨ `RiskEngine` ä¸­æ–°å¢è§„åˆ™ç±»å®ç° `RiskRule::validate`ï¼Œå¹¶åœ¨ä¸‹å•å‰è°ƒç”¨ã€‚
- æ¥å£å±‚ï¼šæ‰©å±• `ApiServer` æä¾› REST/gRPC ç›‘æ§å’ŒæŒ‡ä»¤ä¸‹å‘ã€‚

## è¯´æ˜

å½“å‰å®ç°ä»…ä¸ºç¼–è¯‘é€šè¿‡çš„éª¨æ¶ï¼Œä¾¿äºæŒ‰è®¾è®¡æ–‡æ¡£é€æ­¥æ›¿æ¢ä¸ºç”Ÿäº§çº§ç»„ä»¶ï¼ˆæ— é”é˜Ÿåˆ—ã€å†…å­˜æ± ã€æŒ‡æ ‡é‡‡é›†ã€æŒä¹…åŒ–ç­‰ï¼‰ã€‚\*\*\*
